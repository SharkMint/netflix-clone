{"ast":null,"code":"import _toConsumableArray from\"C:/Dise\\xF1o web/Practicas/netflix-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Dise\\xF1o web/Practicas/netflix-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Principal from\"./pages/Principal/Principal\";import{BrowserRouter as Router,Route}from\"react-router-dom\";//import { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport secret_key from\"./secret\";import FormSearch from\"./shared/FormSearch\";import Detalle from\"./pages/Detalle/Detalle\";import Favoritos from\"./pages/Favoritos/Favoritos\";import Navbar from\"./Banner/Navbar\";import Banner from\"./Banner/Banner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),favoritos=_useState4[0],setFavoritos=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),textToSearch=_useState6[0],setTextToSearch=_useState6[1];useEffect(function(){fetch(\"https://api.themoviedb.org/3/discover/movie?api_key=\".concat(secret_key,\"&sort_by=popularity.desc\"),{method:\"GET\"}).then(function(response){return response.json();}).then(function(data){return setMovies(_toConsumableArray(data.results));});console.log(\"useEffect\");},[favoritos]);var onSubmit=function onSubmit(e){e.preventDefault();fetch(\"https://api.themoviedb.org/3/search/movie?api_key=\".concat(secret_key,\"&query=\").concat(textToSearch)).then(function(response){return response.json();}).then(function(data){return setMovies(_toConsumableArray(data.results));});};var handleFavorites=function handleFavorites(id){var favorito=movies.filter(function(movie){return movie.id===id;});setFavoritos([].concat(_toConsumableArray(favoritos),_toConsumableArray(favorito)));//console.log(favoritos);\n};var handleChange=function handleChange(e){setTextToSearch(e.target.value);console.log(textToSearch);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Banner,{}),/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(Route,{path:\"/\",exact:true,children:[/*#__PURE__*/_jsx(FormSearch,{onSubmit:onSubmit,onChange:handleChange}),/*#__PURE__*/_jsx(Principal,{movies:movies,onAddFavorite:handleFavorites})]}),/*#__PURE__*/_jsx(Route,{path:\"/detalle/:id\",children:/*#__PURE__*/_jsx(Detalle,{})}),/*#__PURE__*/_jsx(Route,{path:\"/favoritos/\",children:/*#__PURE__*/_jsx(Favoritos,{favoritos:favoritos})})]})]});};export default App;","map":{"version":3,"sources":["C:/DiseÃ±o web/Practicas/netflix-clone/src/App.jsx"],"names":["React","useState","useEffect","Principal","BrowserRouter","Router","Route","secret_key","FormSearch","Detalle","Favoritos","Navbar","Banner","App","movies","setMovies","favoritos","setFavoritos","textToSearch","setTextToSearch","fetch","method","then","response","json","data","results","console","log","onSubmit","e","preventDefault","handleFavorites","id","favorito","filter","movie","handleChange","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Principal from \"./pages/Principal/Principal\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\n//import { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\r\n\r\nimport secret_key from \"./secret\";\r\nimport FormSearch from \"./shared/FormSearch\";\r\nimport Detalle from \"./pages/Detalle/Detalle\";\r\nimport Favoritos from \"./pages/Favoritos/Favoritos\";\r\nimport Navbar from \"./Banner/Navbar\";\r\nimport Banner from \"./Banner/Banner\";\r\n\r\nconst App = () => {\r\n    const [movies, setMovies] = useState([]);\r\n    const [favoritos, setFavoritos] = useState([]);\r\n    const [textToSearch, setTextToSearch] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        fetch(\r\n        `https://api.themoviedb.org/3/discover/movie?api_key=${secret_key}&sort_by=popularity.desc`,\r\n        { method: \"GET\" } )\r\n        .then((response) => response.json())\r\n        .then((data) => setMovies([...data.results]));\r\n        console.log(\"useEffect\");\r\n    }, [favoritos]);\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        fetch(\r\n        `https://api.themoviedb.org/3/search/movie?api_key=${secret_key}&query=${textToSearch}`\r\n        )\r\n        .then((response) => response.json())\r\n        .then((data) => setMovies([...data.results]));\r\n    };\r\n\r\n    const handleFavorites = (id) => {\r\n    const favorito = movies.filter((movie) => movie.id === id);\r\n    setFavoritos([...favoritos, ...favorito]);\r\n    \r\n    //console.log(favoritos);\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setTextToSearch(e.target.value);\r\n        console.log(textToSearch);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n                <Banner />\r\n            <Router>\r\n                <Route path=\"/\" exact>\r\n                    <FormSearch  onSubmit={onSubmit}  onChange={handleChange} />\r\n                    <Principal movies={movies} onAddFavorite={handleFavorites} />\r\n                </Route>\r\n                <Route path=\"/detalle/:id\">\r\n                    <Detalle />\r\n                </Route>\r\n                <Route path=\"/favoritos/\">\r\n                    <Favoritos favoritos={favoritos} />\r\n                </Route>\r\n            </Router>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}